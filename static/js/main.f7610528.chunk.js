(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{30:function(t,e,c){},31:function(t,e,c){},32:function(t,e,c){},54:function(t,e,c){},55:function(t,e,c){},56:function(t,e,c){},57:function(t,e,c){},58:function(t,e,c){},59:function(t,e,c){"use strict";c.r(e);var a=c(1),n=c.n(a),s=c(24),i=c.n(s),r=c(8),l=(c(30),c(4)),o=c(2),j=(c(31),c(32),c(15)),b=c(0);var u=function(t){var e=t.data,c=t.onNumberClick,a=n.a.useState(!1),s=Object(l.a)(a,2),i=s[0],o=s[1],u=n.a.useState(!1),d=Object(l.a)(u,2),h=d[0],O=d[1],f=n.a.useState([]),m=Object(l.a)(f,2),x=m[0],_=m[1];function p(t){var e=new Date(1e3*t);return e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)+", "+e.getHours()+":"+("0"+e.getMinutes()).slice(-2)}function v(t){var e=t.toString().split("");return e.splice(1,"","("),e.splice(5,"",")"),e.splice(9,"","-"),e.splice(12,"","-"),"+"+e.join("")}function N(t){c(t.target.dataset.number)}return n.a.useEffect((function(){_(!0===i?e.sort((function(t,e){return t.calltime-e.calltime})):!0===h?function(t){return t.sort((function(t,e){return e.calltime-t.calltime}))}(e):e)}),[i,h,e]),Object(b.jsxs)("section",{className:"table",children:[Object(b.jsx)("table",{children:Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsxs)("th",{children:["\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430",Object(b.jsx)("span",{className:"table__info",title:"\u0414\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445 \u043e \u0437\u0432\u043e\u043d\u043a\u0430\u0445 \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430",children:"\ud83d\udec8"})]}),Object(b.jsxs)("th",{className:"table__header-box",children:["\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043c\u044f \u0437\u0432\u043e\u043d\u043a\u0430",Object(b.jsxs)("div",{children:[Object(b.jsx)("button",{onClick:function(){o(!0),O(!1)},className:i?"table__header-button table__header-button_active":"table__header-button",title:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430 \u043f\u043e \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u044e",children:"\u25b2"}),Object(b.jsx)("button",{onClick:function(){o(!1),O(!0)},className:h?"table__header-button table__header-button_active":"table__header-button",title:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430 \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",children:"\u25bc"})]})]}),Object(b.jsx)("th",{children:"\u0412\u0440\u0435\u043c\u044f \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u044f (\u0441\u0435\u043a)"}),Object(b.jsx)("th",{children:"\u0412\u0440\u0435\u043c\u044f \u0440\u0430\u0437\u0433\u043e\u0432\u043e\u0440\u0430 (\u0441\u0435\u043a)"}),Object(b.jsx)("th",{children:"ID \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u0430"})]})})}),Object(b.jsx)(j.Scrollbars,{className:"table__scroll",children:Object(b.jsx)("table",{children:Object(b.jsx)("tbody",{children:x.map((function(t){return Object(b.jsxs)("tr",{className:"row",children:[Object(b.jsx)("td",{children:Object(b.jsx)(r.b,{className:"table__link",to:"/phone",onClick:N,"data-number":t.number,children:v(t.number)})}),Object(b.jsx)("td",{children:p(t.calltime)}),Object(b.jsx)("td",{children:t.s_in_wait}),Object(b.jsx)("td",{children:t.s_in_talk}),Object(b.jsx)("td",{children:t.agent})]},Math.random())}))})})})]})},d=(c(54),c.p+"static/media/logo.b1413567.png");var h=function(){return Object(b.jsx)("header",{className:"header",children:Object(b.jsx)("img",{className:"header__logo",src:d,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f \u0421\u0443\u043f\u0435\u0440\u0431\u0430\u0437\u044b"})})};c(55);var O=function(t){var e=t.onSearchWord,c=n.a.useState(""),a=Object(l.a)(c,2),s=a[0],i=a[1];return Object(b.jsxs)("section",{className:"search-form",children:[Object(b.jsx)("h1",{className:"search-form__title",children:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0437\u0432\u043e\u043d\u043a\u0430\u0445 \u043a\u043b\u0438\u0435\u043d\u0442\u0430\u043c"}),Object(b.jsxs)("div",{className:"search-form__container",children:[Object(b.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e(s)},className:"search-form__form",children:[Object(b.jsx)("input",{className:"search-form__input",placeholder:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 78121234567 \u0438\u043b\u0438 ID \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u0430",value:s,onChange:function(t){i(t.target.value)},required:!0}),Object(b.jsx)("button",{className:"search-form__button",children:"\u0418\u0441\u043a\u0430\u0442\u044c"})]}),Object(b.jsxs)("div",{className:"search-form__statistics-container",children:[Object(b.jsx)("p",{className:"search-form__subtitle",children:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u0437\u0432\u043e\u043d\u043a\u043e\u0432 \u043f\u043e\xa0\u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u043c\xa0\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c"}),Object(b.jsx)(r.b,{to:"/stat",className:"search-form__statistic-button",children:"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c"})]})]})]})};c(56);var f=function(t){var e=t.number,c=t.amount;return Object(b.jsx)("section",{className:"phone-statistics",children:Object(b.jsx)("h2",{className:"phone-statistics__title",children:"\u041f\u043e \u043d\u043e\u043c\u0435\u0440\u0443 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 +".concat(e," \u0431\u044b\u043b\u043e \u0441\u043e\u0432\u0435\u0440\u0448\u0435\u043d\u043e ").concat(c," \u0437\u0432\u043e\u043d\u043a\u043e\u0432")})})},m=c(16),x=c(11),_=c(9);c(57);var p=function(t){var e=t.data,c=n.a.useState(""),a=Object(l.a)(c,2),s=a[0],i=a[1],r=n.a.useState([]),o=Object(l.a)(r,2),u=o[0],d=o[1],h=n.a.useState("\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440"),O=Object(l.a)(h,2),f=O[0],p=O[1];function v(t){i(t.target.dataset.filter),p(t.target.dataset.title)}return n.a.useEffect((function(){if(s)if("number"===s||"agent"===s){var t=e.map((function(t){return t[s]})).reduce((function(t,e,c){return"undefined"!==typeof t[e]?Object(_.a)(Object(_.a)({},t),{},Object(x.a)({},e,t[e]+1)):Object(_.a)(Object(_.a)({},t),{},Object(x.a)({},e,1))}),{});d(Object.entries(t))}else if("calltime"===s){var c=e.map((function(t){var e=new Date(1e3*t.calltime);return"".concat(e.getFullYear())+"-0"+"".concat(e.getMonth()+1)+"-"+"".concat(("0"+e.getDate()).slice(-2))})).reduce((function(t,e,c){return"undefined"!==typeof t[e]?Object(_.a)(Object(_.a)({},t),{},Object(x.a)({},e,t[e]+1)):Object(_.a)(Object(_.a)({},t),{},Object(x.a)({},e,1))}),{});d(Object.entries(c))}else!function(){for(var t=e.map((function(t){return t[s]})),c=(Math.max.apply(Math,Object(m.a)(t))-Math.min.apply(Math,Object(m.a)(t)))/10,a=[0],n=-0;n<=10;n++){var i=Math.ceil(Math.min.apply(Math,Object(m.a)(t))+c*n);a.push(i)}for(var r={},l=function(e){var c=0;t.map((function(t){t>a[e]&&t<=a[e+1]&&(c+=1)}));var n="".concat(a[e])+"-"+"".concat(a[e+1]);r[n]=c},o=0;o<=10;o++)l(o);d(Object.entries(r))}()}),[s,e]),Object(b.jsxs)("section",{className:"statistics",children:[Object(b.jsx)("h1",{className:"statistics__title",children:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0430 \u0437\u0432\u043e\u043d\u043a\u043e\u0432"}),Object(b.jsxs)("div",{className:"statistics__option-container",children:[Object(b.jsx)("div",{className:"statistics__option","data-filter":"number","data-title":"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430",onClick:v,children:"\u041f\u043e \u043d\u043e\u043c\u0435\u0440\u0443 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430"}),Object(b.jsx)("div",{className:"statistics__option","data-filter":"calltime","data-title":"\u0414\u0430\u0442\u0430",onClick:v,children:"\u041f\u043e \u0434\u0430\u0442\u0435"}),Object(b.jsx)("div",{className:"statistics__option","data-filter":"s_in_wait","data-title":"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u044f (\u0441\u0435\u043a)",onClick:v,children:"\u041f\u043e \u0434\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u044f\xa0(\u0441\u0435\u043a)"}),Object(b.jsx)("div",{className:"statistics__option","data-filter":"s_in_talk","data-title":"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u044f (\u0441\u0435\u043a)",onClick:v,children:"\u041f\u043e \u0434\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0440\u0430\u0437\u0433\u043e\u0432\u043e\u0440\u0430\xa0(\u0441\u0435\u043a)"}),Object(b.jsx)("div",{className:"statistics__option","data-filter":"agent","data-title":"ID \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u0430",onClick:v,children:"\u041f\u043e ID \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u0430"})]}),Object(b.jsxs)("div",{className:"statistics__container",children:[Object(b.jsx)("table",{className:"statistics__table",children:Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:f}),Object(b.jsx)("th",{children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0437\u0432\u043e\u043d\u043a\u043e\u0432"})]})})}),Object(b.jsx)(j.Scrollbars,{className:"statistics__scroll",children:Object(b.jsx)("table",{className:"statistics__table",children:Object(b.jsx)("tbody",{children:u.map((function(t){return Object(b.jsxs)("tr",{className:"row",children:[Object(b.jsx)("td",{children:t[0]}),Object(b.jsx)("td",{children:t[1]})]})}))})})})]})]})};c(58);var v=function(){return Object(b.jsx)(r.b,{to:"/",className:"return",children:"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e\u21ba"})};var N=function(){var t=n.a.useState([]),e=Object(l.a)(t,2),c=e[0],s=e[1],i=n.a.useState([]),r=Object(l.a)(i,2),j=r[0],d=r[1];console.log(c);var m,x=n.a.useState(""),_=Object(l.a)(x,2),N=_[0],g=_[1];function k(t){return t.filter((function(t){return j?t.number===Number(j):t}))}return console.log(N),Object(a.useEffect)((function(){fetch("http://109.248.175.136:5000").then((function(t){return t.json()})).then((function(t){var e=t.data,c=t.columns;return e.map((function(t){for(var a={},n=0;n<e.length;n++)a["".concat(c[n])]=t[n];return a}))})).then((function(t){return s(t)})).catch((function(t){return console.log(t)}))}),[]),Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(h,{}),Object(b.jsxs)(o.c,{children:[Object(b.jsxs)(o.a,{exact:!0,path:"/",children:[Object(b.jsx)(O,{onSearchWord:function(t){g(t)}}),Object(b.jsx)(u,{data:(m=c,m.filter((function(t){return N?t.agent===Number(N)||t.number===Number(N):t}))),onNumberClick:function(t){d(t)}})]}),Object(b.jsxs)(o.a,{path:"/phone",children:[Object(b.jsx)(f,{number:j,amount:k(c).length}),Object(b.jsx)(u,{data:k(c),onNumberClick:function(){}}),Object(b.jsx)(v,{})]}),Object(b.jsxs)(o.a,{path:"/stat",children:[Object(b.jsx)(p,{data:c}),Object(b.jsx)(v,{})]})]})]})},g=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,60)).then((function(e){var c=e.getCLS,a=e.getFID,n=e.getFCP,s=e.getLCP,i=e.getTTFB;c(t),a(t),n(t),s(t),i(t)}))};i.a.render(Object(b.jsx)(r.a,{children:Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(N,{})})}),document.getElementById("root")),g()}},[[59,1,2]]]);
//# sourceMappingURL=main.f7610528.chunk.js.map